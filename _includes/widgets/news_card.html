{% assign sorted_news = site.news | sort: "date" | reverse | slice: 0, include.limit %}
{% assign previous_year = "" %}
<div class="my-3 bg-white shadow-sm rounded-sm">
    <h6 class="p-3 mb-0 border-bottom border-gray"><i class="fas fa-rss"></i> News</h6>
    <div class="px-3 pb-1">
        {% for item in sorted_news %}
            {% assign current_year = item.date | date: "%Y" %}
            {% if current_year != previous_year %}
                <div class="mt-2 text-muted">{{ current_year }}</div>
                {% assign previous_year = current_year %}
            {% endif %}
            <div class="my-1 d-flex">
                <div>{{ item.title }}</div>
                <div class="ml-auto mt-auto text-muted no-break"><i>{{ item.date | date: "%b" }}</i></div>
            </div>
        {% endfor %}
    </div>
</div>
